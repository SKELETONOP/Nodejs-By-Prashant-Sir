<%- include('../partials/head') %>

<body class="bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 min-h-screen relative">
  <!-- Background Elements -->
  <div class="fixed inset-0 z-0">
    <div class="absolute top-1/4 left-1/4 w-64 h-64 bg-purple-500/20 rounded-full blur-3xl animate-pulse"></div>
    <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-500/20 rounded-full blur-3xl animate-pulse" style="animation-delay: 2s;"></div>
    <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-pink-500/10 rounded-full blur-3xl animate-pulse" style="animation-delay: 4s;"></div>
  </div>

  <%- include('../partials/nav') %>

  <div class="flex-grow flex items-center mt-5 justify-center px-4">
    
    <div class="w-full max-w-md bg-white/10 backdrop-blur-xl border border-white/20 p-8 rounded-3xl shadow-2xl relative">
      <div class="absolute inset-0 bg-gradient-to-r from-purple-500/10 via-pink-500/10 to-blue-500/10 rounded-3xl blur-xl"></div>
      
      <div class="relative z-10">
        <h1 class="text-3xl font-bold text-center bg-gradient-to-r from-orange-400 to-pink-400 bg-clip-text text-transparent mb-6">Login</h1>

        <form action="/login" method="POST" class="space-y-5">
          <%- include('../partials/errors') %>
          <div class="group">
            <label for="email" class="block text-sm font-medium text-white/80 mb-2 transition-colors group-focus-within:text-orange-400">Email</label>
            <input
              type="email"
              id="email"
              name="email"
              value="<%= typeof oldInput !== 'undefined' && oldInput.email ? oldInput.email : '' %>"
              required
              class="w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 
                     focus:outline-none focus:ring-2 focus:ring-orange-400/50 focus:border-orange-400/50 
                     transition-all duration-300 hover:bg-white/10 backdrop-blur-sm"
            />
          </div>

          <div class="group">
            <label for="password" class="block text-sm font-medium text-white/80 mb-2 transition-colors group-focus-within:text-orange-400">Password</label>
            <div class="relative">
              <input
                type="password"
                id="password"
                name="password"
                required
                class="w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 
                       focus:outline-none focus:ring-2 focus:ring-orange-400/50 focus:border-orange-400/50 
                       transition-all duration-300 hover:bg-white/10 backdrop-blur-sm pr-10"
              />
              <button
                type="button"
                id="togglePassword"
                class="absolute right-3 top-3 text-white/60 hover:text-white"
                tabindex="-1"
              >
                🙈
              </button>
            </div>
          </div>

          <button
            type="submit"
            class="w-full bg-orange-600 hover:bg-orange-700 text-white font-semibold py-3 px-4 rounded-xl transition duration-300"
          >
            Login
          </button>
        </form>

        <p class="text-center text-sm mt-4 text-white/70">
          Don't have an account?
          <a href="/signup" class="text-orange-400 hover:underline">signup</a>
        </p>
      </div>
    </div>
  </div>

  <script>
    const togglePassword = document.getElementById("togglePassword");
    const passwordInput = document.getElementById("password");

    togglePassword.addEventListener("click", () => {
      const isPassword = passwordInput.type === "password";
      passwordInput.type = isPassword ? "text" : "password";
      togglePassword.textContent = isPassword ? "👁️" : "🙈" ;
    });
  </script>
</body>
